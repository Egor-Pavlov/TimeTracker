# Описание
Backend сервиса Многопользовательский тайм-трекер, доступ к которому можно
получить по REST.
Тайм-трекер (англ. Time-tracker или Time-tracking software) - это категория компьютерного
программного обеспечения, которое позволяет сотрудникам, работающим за компьютерами,
записывать время, потраченное на выполнение задач или проектов, а работодателям их
контролировать.

## Сборка
1. mvn clean package
2. docker build -t time-tracker-1.0 .
3. sudo docker run -p 8080:8080 time-tracker-1.0

https://habr.com/ru/articles/448094/


## 1.1 Типы запросов
* создать пользователя трекинга
  `curl -i -w -X POST http://localhost:8080/api/users/new -H "content-type:application/json" -d '{"username":"tester", "email":"a@a.ru"}'`
* изменить данные пользователя
  `curl -i -w -X POST http://localhost:8080/api/user/update -H "content-type:application/json" -d '{"userID":1, "username":"tester123", "email":"a123@a.ru"}'`
* Добавить задачу
  `curl -i -w -X POST http://localhost:8080/api/tasks/new -H "content-type:application/json" -d '{"theme":"bug", "description":"bherjhjksmvsv1234"}'`
* начать отсчет времени по задаче Х
  `curl -v -X POST http://localhost:8080/api/user/tracking/start -H "content-type:application/json" -d '{"userId":1, "taskId":1}'`
* прекратить отсчет времени по задаче Х
  `curl -v -X POST http://localhost:8080/api/user/tracking/stop -H "content-type:application/json" -d '{"userId":1, "taskId":1}'`
* показать все трудозатраты пользователя Y за период N..M в виде связного списка Задача - Сумма затраченного времени в виде (чч:мм), сортировка по времени поступления в трекер (для ответа на вопрос, На какие задачи я потратил больше времени)
  `curl -X GET "http://localhost:8080/api/user/tracking/durations/period?userID=1&startTime=2024-05-13T00:00:00&endTime=2024-05-17T23:59:59"`
* показать все временные интервалы занятые работой за период N..M в виде связного списка Временной интервал (число чч:мм) - Задача (для ответа на вопросы, На что ушла моя неделя или Где за прошедшую неделю были ‘дыры’, когда я ничего не делал)
  ` curl -X GET "http://localhost:8080/api/user/tracking/intervals/period?userID=2&startTime=2024-05-10T00:00:00&endTime=2024-05-18T23:59:59"`
* показать сумму трудозатрат по всем задачам пользователя Y за период N..M
  ` curl -X GET "http://localhost:8080/api/user/tracking/sum/period?userID=2&startTime=2024-05-10T00:00:00&endTime=2024-05-18T23:59:59"`
* удалить всю информацию о пользователе Z
  `curl -v -X DELETE http://localhost:8080/api/user/delete -H "content-type:application/json" -d '{"userId":1}'`
* очистить данные трекинга пользователя Z
  `curl -v -X DELETE http://localhost:8080/api/user/tracking/delete -H "content-type:application/json" -d '{"userId":1}'`

## 1.2 Дополнительные условия
Если пользователь не завершил отсчет своего времени, то он завершается автоматически в 23:59 текущего дня.
Данные должны хранятся в системе не более периода, указанного в конфигурации сервиса. 
Очистка данных производится задачей по расписанию, работающей в составе java приложения.

## 2.3 Журналирование
Для журналирования работы используется log4j2, конфигурация в файле log4j2.xml. Реализована ротация логов.
Логи работы сервиса пишутся в файл time-tracker.log, системные логи спринга пишутся в time-tracker-spring.log. Разные файлы используются в основном в целях изучения работы логеров с разными файлами 

Несколько логеров создано для повышения читаемости логов.

## 2.4 Документация
Проект должен содержать список всех REST команд которые можно выполнить с кратким описанием входных и выходных данных (с примерами выполнения запросов curl).

Спецификация OpenAPI приветствуется.

Язык для документации русский или английский на усмотрение разработчика.

(Использовал в основном английский в качестве упражнения, сделал еще и на русском для сравненния читаемости)


## Тесты